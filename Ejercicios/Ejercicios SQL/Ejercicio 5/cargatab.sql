DROP TABLE DEPARTAMENTOS CASCADE CONSTRAINTS;
CREATE TABLE DEPARTAMENTOS
( DEP_NO 		NUMBER(2),
  DNOMBRE 		VARCHAR(14),
  LOCALIDAD 		VARCHAR(10),
CONSTRAINT PK_DEPARTAMENTOS_DEP_NO PRIMARY KEY (DEP_NO)
);

REM ## TABLA EMPLEADOS
DROP TABLE EMPLEADOS CASCADE CONSTRAINTS;
CREATE TABLE EMPLEADOS
( EMP_NO 		NUMBER(4),
  APELLIDO 		VARCHAR(8),
  OFICIO 		VARCHAR(10),
  DIRECTOR 		NUMBER(4),
  FECHA_ALTA 		DATE,
  SALARIO 		NUMBER(6),
  COMISION 		NUMBER(6),
  DEP_NO 		NUMBER (2),
CONSTRAINT PK_EMPLEADOS_EMP_NO PRIMARY KEY (EMP_NO),
CONSTRAINT FK_EMP_DIRECTOR FOREIGN KEY (DIRECTOR)
 REFERENCES EMPLEADOS(EMP_NO),
CONSTRAINT FK_EMP_DEP_NO FOREIGN KEY (DEP_NO)
 REFERENCES DEPARTAMENTOS(DEP_NO)
);

REM ## TABLA CLIENTES
DROP TABLE CLIENTES CASCADE CONSTRAINTS;
CREATE TABLE CLIENTES
(CLIENTE_NO		NUMBER(4),
 NOMBRE 		VARCHAR(25),
 LOCALIDAD         	VARCHAR(14),
 VENDEDOR_NO       	NUMBER(4),
 DEBE			NUMBER(9),
 HABER			NUMBER(9),
 LIMITE_CREDITO    	NUMBER(9),
CONSTRAINT PK_CLIENTE_NO PRIMARY KEY(CLIENTE_NO),
CONSTRAINT FK_CLI_EMP_NO FOREIGN KEY (VENDEDOR_NO)
 REFERENCES EMPLEADOS(EMP_NO) ON DELETE CASCADE
);

REM ## TABLA PRODUCTOS
DROP TABLE PRODUCTOS CASCADE CONSTRAINTS;
CREATE TABLE PRODUCTOS
(PRODUCTO_NO  		NUMBER(4),
 DESCRIPCION  		VARCHAR(30),
 PRECIO_ACTUAL 		NUMBER(8),
 STOCK_DISPONIBLE	NUMBER(9),
CONSTRAINT PK_PRODUCTO_NO PRIMARY KEY (PRODUCTO_NO) 
);

REM ## TABLA PEDIDOS
DROP TABLE PEDIDOS CASCADE CONSTRAINTS;
CREATE TABLE PEDIDOS
(PEDIDO_NO         	NUMBER(4),
 PRODUCTO_NO		NUMBER(4),
 CLIENTE_NO 		NUMBER(4),
 UNIDADES 	        NUMBER(4),
 FECHA_PEDIDO      	DATE,
CONSTRAINT PK_PEDIDO_NO PRIMARY KEY (PEDIDO_NO),
CONSTRAINT FK_PEDIDOS_PRODUCTO_NO FOREIGN KEY (PRODUCTO_NO)
		REFERENCES PRODUCTOS(PRODUCTO_NO) ON DELETE CASCADE,
CONSTRAINT FK_PEDIDOS_CLIENTE_NO FOREIGN KEY (CLIENTE_NO)
		REFERENCES CLIENTES(CLIENTE_NO) ON DELETE CASCADE 
);

REM ##################### INTRODUCCIÓN DE DATOS ######################

REM ## DEPARTAMENTOS
INSERT INTO DEPARTAMENTOS VALUES(10, 'CONTABILIDAD', 'BARCELONA');
INSERT INTO DEPARTAMENTOS VALUES(20, 'INVESTIGACION', 'VALENCIA');
INSERT INTO DEPARTAMENTOS VALUES(30, 'VENTAS',        'MADRID'); 
INSERT INTO DEPARTAMENTOS VALUES(40, 'PRODUCCION',    'SEVILLA');

REM ## EMPLEADOS
INSERT INTO EMPLEADOS VALUES (7839,'REY',     'PRESIDENTE',NULL,'17-NOV-1981',600000, NULL, 10);
INSERT INTO EMPLEADOS VALUES (7698,'GARRIDO', 'DIRECTOR',  7839,'01-MAY-1981',385000, NULL, 30);
INSERT INTO EMPLEADOS VALUES (7782,'MARTINEZ','DIRECTOR',  7839,'09-JUN-1981',245000, NULL, 10);
INSERT INTO EMPLEADOS VALUES(7499,'ALONSO',   'VENDEDOR',  7698,'20-FEB-1981',140000,40000,30);
INSERT INTO EMPLEADOS VALUES (7521,'LOPEZ',   'EMPLEADO',  7782,'08-MAY-1981',135000, NULL,10);      
INSERT INTO EMPLEADOS VALUES (7654,'MARTIN',  'VENDEDOR',  7698,'28-SEP-1981',150000, 160000, 30);
INSERT INTO EMPLEADOS VALUES (7844,'CALVO',   'VENDEDOR',  7698,'08-SEP-1981',180000, 0,    30);
INSERT INTO EMPLEADOS VALUES (7876,'GIL',     'ANALISTA',  7782,'06-MAY-1982',335000, NULL, 20);
INSERT INTO EMPLEADOS VALUES (7900,'JIMENEZ', 'EMPLEADO',  7782,'24-MAR-1983',140000, NULL, 20);	

REM ## CLIENTES
INSERT INTO CLIENTES VALUES (101, 'DISTRIBUCIONES GOMEZ', 'MADRID', 7499, 0,0,500000);
INSERT INTO CLIENTES VALUES (102, 'LOGITRONICA S.L', 'BARCELONA', 7654,0,0,500000);
INSERT INTO CLIENTES VALUES (103, 'INDUSTRIAS LACTEAS S.A.', 'LAS ROZAS', 7844,0,0, 1000000);
INSERT INTO CLIENTES VALUES (104, 'TALLERES ESTESO S.A.', 'SEVILLA', 7654, 0, 0, 500000);
INSERT INTO CLIENTES VALUES (105, 'EDICIONES SANZ', 'BARCELONA', 7499, 0,0,500000);
INSERT INTO CLIENTES VALUES (106, 'SIGNOLOGIC S.A.', 'MADRID', 7654,0,0,500000);
INSERT INTO CLIENTES VALUES (107, 'MARTIN Y ASOCIADOS S.L.', 'ARAVACA' , 7844,0,0, 1000000);
INSERT INTO CLIENTES VALUES (108, 'MANUFACTURAS ALI S.A.', 'SEVILLA', 7654, 0, 0, 500000);

REM ## PRODUCTOS
INSERT INTO PRODUCTOS VALUES(10,'MESA DESPACHO MOD. GAVIOTA', 55000, 50);
INSERT INTO PRODUCTOS VALUES (20, 'SILLA DIRECTOR MOD. BUFALO', 67000, 25);
INSERT INTO PRODUCTOS VALUES (30, 'ARMARIO NOGAL DOS PUERTAS', 46000, 20);
INSERT INTO PRODUCTOS VALUES (40, 'MESA MODELO UNIÓN',34000, 15);
INSERT INTO PRODUCTOS VALUES (50, 'ARCHIVADOR CEREZO',105000, 20);
INSERT INTO PRODUCTOS VALUES (60, 'CAJA SEGURIDAD MOD B222', 28000, 15);
INSERT INTO PRODUCTOS VALUES (70, 'DESTRUCTORA DE PAPEL A3',45000, 25);
INSERT INTO PRODUCTOS VALUES (80, 'MODULO ORDENADOR MOD. ERGOS', 55000, 25);

REM ## PEDIDOS
INSERT INTO PEDIDOS VALUES(1000, 20, 103, 3, '06-OCT-1999');
INSERT INTO PEDIDOS VALUES(1001, 50, 106, 2, '06-OCT-1999');
INSERT INTO PEDIDOS VALUES(1002, 10, 101, 4, '07-OCT-1999');
INSERT INTO PEDIDOS VALUES(1003, 20, 105, 4, '16-OCT-1999');
INSERT INTO PEDIDOS VALUES(1004, 40, 106, 8, '20-OCT-1999');
INSERT INTO PEDIDOS VALUES(1005, 30, 105, 2, '20-OCT-1999');
INSERT INTO PEDIDOS VALUES(1006, 70, 103, 3, '03-NOV-1999');
INSERT INTO PEDIDOS VALUES(1007, 50, 101, 2, '06-NOV-1999');
INSERT INTO PEDIDOS VALUES(1008, 10, 106, 6, '16-NOV-1999');
INSERT INTO PEDIDOS VALUES(1009, 20, 105, 2, '26-NOV-1999');
INSERT INTO PEDIDOS VALUES(1010, 40, 102, 3, '08-DIC-1999');
INSERT INTO PEDIDOS VALUES(1011, 30, 106, 2, '15-DIC-1999');
INSERT INTO PEDIDOS VALUES(1012, 10, 105, 3, '06-DIC-1999');
INSERT INTO PEDIDOS VALUES(1013, 30, 106, 2, '06-DIC-1999');
INSERT INTO PEDIDOS VALUES(1014, 20, 101, 4, '07-ENE-2000');
INSERT INTO PEDIDOS VALUES(1015, 70, 105, 4, '16-ENE-2000');
INSERT INTO PEDIDOS VALUES(1016, 30, 106, 7, '18-ENE-2000');
INSERT INTO PEDIDOS VALUES(1017, 20, 105, 6, '20-ENE-2000');


CREATE TABLE CLIENTESNEW
(CLIENTE_NO		NUMBER(4),
 NOMBRE 		VARCHAR(25),
 LOCALIDAD         	VARCHAR(14),
 VENDEDOR_NO       	NUMBER(4),
 DEBE			NUMBER(9),
 HABER			NUMBER(9),
 LIMITE_CREDITO    	NUMBER(9));


INSERT INTO CLIENTESNEW VALUES (125, 'EDICIONES PEZ', 'BARCELONA', 7499, 0,0,500000);
INSERT INTO CLIENTESNEW VALUES (126, 'SIGNOTREN S.A.', 'MADRID', 7654,0,0,500000);
INSERT INTO CLIENTESNEW VALUES (127, 'PEREZ Y GARCIA S.L.', 'MADRID' , 7844,0,0, 1000000); 
INSERT INTO CLIENTESNEW VALUES (128, 'MANUFACTURAS ALLA S.A.', 'CADIZ', 7654, 0, 0, 
500000);

CREATE TABLE CLIENTESDEL
(CLIENTE_NO		NUMBER(4)
 );

INSERT INTO CLIENTESDEL VALUES (101);
INSERT INTO CLIENTESDEL VALUES (103);
INSERT INTO CLIENTESDEL VALUES (104);


